use Volunteer

CREATE TABLE Accounts (
   UserID INT IDENTITY(1,1) not null PRIMARY KEY,
    username VARCHAR(255) NOT NULL UNIQUE,
    password VARCHAR(255) NOT NULL,
    name VARCHAR(255),
	email VARCHAR(255),
	birthDay datetime,
	sex int,
    phone VARCHAR(20),
    address TEXT,
	photo text,
    status int NULL,
	role int NULL,
    token VARCHAR(255)
);

CREATE TABLE Blogs (
    blog_id INT IDENTITY(1,1) not null PRIMARY KEY,
    title VARCHAR(255) NOT NULL,
    content TEXT NOT NULL,
    author int NOT NULL,
    date DATE NOT NULL,
    category VARCHAR(50) NOT NULL
		FOREIGN KEY (author) REFERENCES Accounts (UserID),
);



CREATE TABLE information_pages (
    page_id INT IDENTITY(1,1) not null PRIMARY KEY,
    text_content TEXT NOT NULL
);

CREATE TABLE volunteer_activities (
    activity_id INT not null IDENTITY(1,1) PRIMARY KEY ,
    activity_name VARCHAR(100) NOT NULL,
    description TEXT,
    start_date datetime,
    end_date datetime,
    location VARCHAR(100),
   organizer_id INT,
   numberMemBer int,
    created_date datetime not null,
    updated_date datetime not null,
	FOREIGN KEY (organizer_id) REFERENCES Accounts (UserID),
);

CREATE TABLE categories (
    category_id INT not null IDENTITY(1,1) PRIMARY KEY,
    category_name VARCHAR(100) NOT NULL
);

CREATE TABLE volunteer_participation (
    participation_id INT not null IDENTITY(1,1) PRIMARY KEY,
    volunteer_id INT NOT NULL,
    activity_id INT NOT NULL,
    registration_date DATE NOT NULL,
    FOREIGN KEY (volunteer_id) REFERENCES Accounts (UserID),
    FOREIGN KEY (activity_id) REFERENCES volunteer_activities (activity_id)
);

CREATE TABLE transactions (
    transaction_id INT not null IDENTITY(1,1) PRIMARY KEY,
    activity_id INT,
    donor_id INT,
    transaction_date datetime NOT NULL,
    text TEXT,
    amount DECIMAL(10, 2) NOT NULL,
	FOREIGN KEY (donor_id) REFERENCES Accounts (UserID),
    FOREIGN KEY (activity_id) REFERENCES volunteer_activities (activity_id)
);

CREATE TABLE reports (
    report_id INT not null IDENTITY(1,1) PRIMARY KEY,
    user_id INT NOT NULL,
    report_date datetime NOT NULL,
    report_text TEXT NOT NULL,
    FOREIGN KEY (user_id) REFERENCES Accounts (UserID)
);

CREATE TABLE Payment (
    payment_id INT not null IDENTITY(1,1) PRIMARY KEY,
  
    nguoigiaodich_id INT,
    transaction_date datetime NOT NULL,
    text TEXT,
    amount DECIMAL(10, 2) NOT NULL,
	FOREIGN KEY (nguoigiaodich_id) REFERENCES Accounts (UserID),

);


CREATE TABLE UserOTP (
    id INT not null IDENTITY(1,1) PRIMARY KEY,
    userEmail NVARCHAR(255) UNIQUE,
    otp NVARCHAR(6), 
	otpTimestamp datetime

);


insert into information_pages values ('Education','Tutoring or teaching students, assisting with
 after-school programs, helping with educational
                                        nonprofit organizations'), ('Health and human services','Volunteering at hospitals, nursing homes,
                                        hospices, food banks, shelters, assisting
                                        individuals with disabilities.'),('Environment','Working with land conservation efforts, parks,
                                        beaches, trails, environmental nonprofits. Tasks
                                        include restoration, research, education.'),('Animal welfare','Volunteering at animal shelters, rescues,
                                        sanctuaries, veterinary clinics, wildlife
                                        rehabilitation. Tasks include socializing
                                        animals, cleaning, fundraising.'),('Arts and culture','Assisting with museums, theaters, music/dance
                                        groups. Tasks include event support, docent/tour
                                        guiding, administrative work.'),('Community improvement','Volunteering with neighborhood associations,
                                        community centers, libraries. Tasks include
                                        event planning, beautification projects,
                                        administrative support.'),('International/global','Volunteering abroad or for international
                                        nonprofit organizations focused on issues like
                                        poverty, healthcare, education, human rights.'),('Political/social advocacy','Volunteering for campaigns, organizations that
                                        focus on issues like voter registration, women''s
                                        rights, LGBTQ+ rights, racial justice, poverty
                                        advocacy. Tasks include outreach, fundraising,
                                        administrative support.')


CREATE TABLE TransOfOrganizer (
    id INT not null IDENTITY(1,1) PRIMARY KEY,
organizer_id int,
    numberCard NVARCHAR(255) UNIQUE,
    nameCard NVARCHAR(255),
	nameBank NVARCHAR(255)
FOREIGN KEY (organizer_id) REFERENCES Accounts (UserID) );

insert into TransOfOrganizer values(3,'038888059999','NGUYEN MANH TUONG', 'Mbbank')

CREATE TABLE Pending_activity (
    activity_id INT not null IDENTITY(1,1) PRIMARY KEY ,
    activity_name NVARCHAR(100) NOT NULL,
    description TEXT,
    start_date datetime,
    end_date datetime,
    location NVARCHAR(100),
   organizer_id INT,
   numberMemBer int,
    created_date datetime not null,
    updated_date datetime not null,
	FOREIGN KEY (organizer_id) REFERENCES Accounts (UserID),
);

ALTER TABLE volunteer_activities
ALTER COLUMN activity_name NVARCHAR(100);

ALTER TABLE volunteer_activities
ALTER COLUMN description NVARCHAR(MAX);

ALTER TABLE volunteer_activities
ALTER COLUMN location NVARCHAR(100);

ALTER TABLE Pending_activity
ALTER COLUMN description NVARCHAR(MAX);

